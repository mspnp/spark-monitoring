{
  "__inputs": [
    {
      "name": "DS_ALA",
      "label": "ALA",
      "description": "",
      "type": "datasource",
      "pluginId": "grafana-azure-monitor-datasource",
      "pluginName": "Azure Monitor"
    }
  ],
  "__requires": [
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "5.3.4"
    },
    {
      "type": "datasource",
      "id": "grafana-azure-monitor-datasource",
      "name": "Azure Monitor",
      "version": "0.2.1"
    },
    {
      "type": "panel",
      "id": "graph",
      "name": "Graph",
      "version": "5.0.0"
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": "5.0.0"
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "panels": [
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 9,
        "w": 11,
        "x": 0,
        "y": 0
      },
      "id": 46,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerJobStart\"\n| project Job_ID_d,Properties_callSite_short_s,Submission_Time_d,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerJobEnd\"\n    | where Job_Result_Result_s contains \"JobSucceeded\"\n    | project Event_s,Job_ID_d,Completion_Time_d,TimeGenerated\n) on Job_ID_d;\nresults\n| extend slice=strcat(Properties_callSite_short_s,\"_90%\")\n| extend jobDuration=Completion_Time_d - Submission_Time_d \n| summarize percentile(jobDuration,90)  by bin(TimeGenerated,  1m), slice\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerJobStart\"\n| project Job_ID_d,Properties_callSite_short_s,Submission_Time_d,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerJobEnd\"\n    | where Job_Result_Result_s contains \"JobSucceeded\"\n    | project Event_s,Job_ID_d,Completion_Time_d,TimeGenerated\n) on Job_ID_d;\nresults\n| extend slice=strcat(Properties_callSite_short_s,\"_50%\")\n| extend jobDuration=Completion_Time_d - Submission_Time_d \n| summarize percentile(jobDuration,50)  by bin(TimeGenerated,  1m), slice\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "B"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerJobStart\"\n| project Job_ID_d,Properties_callSite_short_s,Submission_Time_d,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerJobEnd\"\n    | where Job_Result_Result_s contains \"JobSucceeded\"\n    | project Event_s,Job_ID_d,Completion_Time_d,TimeGenerated\n) on Job_ID_d;\nresults\n| extend slice=strcat(Properties_callSite_short_s,\"_30%\")\n| extend jobDuration=Completion_Time_d - Submission_Time_d \n| summarize percentile(jobDuration,30)  by bin(TimeGenerated,  1m), slice\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "C"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerJobStart\"\n| project Job_ID_d,Properties_callSite_short_s,Submission_Time_d,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerJobEnd\"\n    | where Job_Result_Result_s contains \"JobSucceeded\"\n    | project Event_s,Job_ID_d,Completion_Time_d,TimeGenerated\n) on Job_ID_d;\nresults\n| extend slice=strcat(Properties_callSite_short_s,\"_10%\")\n| extend jobDuration=Completion_Time_d - Submission_Time_d \n| summarize percentile(jobDuration,10)  by bin(TimeGenerated,  1m), slice\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "D"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Job Latency",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "ms",
          "label": "Latency Per Minute",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 11,
        "y": 0
      },
      "id": 36,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Event_s contains \"SparkListenerStageCompleted\" \n| extend stage_query = strcat(Stage_Info_Stage_Name_s,\"_90%\") \n| extend stageDuration=Stage_Info_Completion_Time_d - Stage_Info_Submission_Time_d \n| summarize percentile(stageDuration,90)  by bin(TimeGenerated,  1m), stage_query\n| order by TimeGenerated asc nulls last\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Event_s contains \"SparkListenerStageCompleted\" \n| extend stage_query = strcat(Stage_Info_Stage_Name_s,\"_50%\") \n| extend stageDuration=Stage_Info_Completion_Time_d - Stage_Info_Submission_Time_d \n| summarize percentile(stageDuration,50)  by bin(TimeGenerated,  1m), stage_query\n| order by TimeGenerated asc nulls last\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "B"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Event_s contains \"SparkListenerStageCompleted\" \n| extend stage_query = strcat(Stage_Info_Stage_Name_s,\"_30%\") \n| extend stageDuration=Stage_Info_Completion_Time_d - Stage_Info_Submission_Time_d \n| summarize percentile(stageDuration,30)  by bin(TimeGenerated,  1m), stage_query\n| order by TimeGenerated asc nulls last\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "C"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Event_s contains \"SparkListenerStageCompleted\" \n| extend stage_query = strcat(Stage_Info_Stage_Name_s,\"_10%\") \n| extend stageDuration=Stage_Info_Completion_Time_d - Stage_Info_Submission_Time_d \n| summarize percentile(stageDuration,10)  by bin(TimeGenerated,  1m), stage_query\n| order by TimeGenerated asc nulls last\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "D"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Stage Latency",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "ms",
          "label": "Latency Per Minute",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 9,
        "w": 11,
        "x": 0,
        "y": 9
      },
      "id": 44,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerJobStart\"\n| project Job_ID_d,Properties_callSite_short_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerJobEnd\"\n    | where Job_Result_Result_s contains \"JobSucceeded\"\n    | project Event_s,Job_ID_d,TimeGenerated\n) on Job_ID_d;\nresults\n| extend slice=strcat(\"#JobsCompleted \",Properties_callSite_short_s)\n| summarize count(Event_s)   by bin(TimeGenerated,  1m),slice\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Stage_ID_d,Task_Info_Task_ID_d,\n              TaskEvent=Event_s,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend slice=strcat(\"#TasksCompleted \",Stage_Info_Stage_Name_s)\n| summarize count(TaskEvent)  by bin(TimeGenerated,1m),slice\n| order by TimeGenerated asc nulls last\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "B"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where  $__timeFilter(TimeGenerated)\n| where Event_s contains \"SparkListenerStageCompleted\"\n| extend slice = strcat(\"# StagesCompleted \",Stage_Info_Stage_Name_s)  \n| summarize StagesCompleted=count(Event_s) by bin(TimeGenerated,1m), slice\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "C"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Cluster Throughput",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": "Throughput Per Minute",
          "logBase": 2,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 11,
        "y": 9
      },
      "id": 18,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        },
        {
          "alias": "e8a4e9e2-3694-4773-838d-91c9f4f8facf",
          "yaxis": 1
        },
        {
          "alias": "rowssec-e8a4e9e2-3694-4773-838d-91c9f4f8facf",
          "yaxis": 2
        },
        {
          "alias": "e8a4e9e2-3694-4773-838d-91c9f4f8facf-triggerExec",
          "yaxis": 2
        },
        {
          "alias": "cf4410f4-121a-42c6-90e1-ae37ab140d3c-triggerExec",
          "yaxis": 2
        },
        {
          "alias": "maxAvgFarePerNeighborhood_console_insert-triggerExec",
          "yaxis": 2
        },
        {
          "alias": "maxAvgFarePerNeighborhood_console_insert-triggerexecution",
          "yaxis": 2
        },
        {
          "alias": "display_query_1-triggerexecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(progress_timestamp_t)\n| where Event_s contains \"queryprogressevent\"\n| extend sname=strcat(progress_name_s,\"-\",\"triggerexecution\") \n| summarize percentile(progress_durationMs_triggerExecution_d,90)  by bin(progress_timestamp_t, 1m), sname\n| order by  progress_timestamp_t  asc  nulls last ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where  $__timeFilter(progress_timestamp_t )\n| where Event_s   contains \"progress\"\n| extend sname=strcat(progress_name_s,\"-inputRowsPerSecond\") \n| extend status = todouble(extractjson(\"$.[0].inputRowsPerSecond\", progress_sources_s))\n| summarize percentile(status,90) by bin(progress_timestamp_t,  1m) , sname\n| order by progress_timestamp_t asc ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "B"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where  $__timeFilter(progress_timestamp_t )\n| where Event_s   contains \"progress\"\n| extend sname=strcat(progress_name_s,\"-ProcRowsPerSecond\") \n| extend status = todouble(extractjson(\"$.[0].processedRowsPerSecond\", progress_sources_s))\n| summarize percentile(status,90) by bin(progress_timestamp_t,  1m) , sname\n| order by progress_timestamp_t asc ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "C"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Streaming Throughput / Latency",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "short",
          "label": "Throughput Rows / Sec",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency Per Batch",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 9,
        "w": 23,
        "x": 0,
        "y": 18
      },
      "id": 49,
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TaskShuffleWriteTime start at TaxiCabReader.scala:233",
          "yaxis": 1
        },
        {
          "alias": "ShuffleBytesWritten start at TaxiCabReader.scala:233",
          "yaxis": 2
        },
        {
          "alias": "ShuffleBytesRead start at TaxiCabReader.scala:233",
          "yaxis": 2
        },
        {
          "alias": "InputBytesRead start at TaxiCabReader.scala:233",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend schedulerdelay = Task_Info_Launch_Time_d - Stage_Info_Submission_Time_d\n| extend name=strcat(\"SchedulerDelayTime \",Stage_Info_Stage_Name_s)\n| summarize percentile(schedulerdelay,90) , percentile(Task_Metrics_Executor_Run_Time_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend name=strcat(\"ExecutorComputeTime \",Stage_Info_Stage_Name_s)\n| summarize percentile(Task_Metrics_Executor_Run_Time_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "B"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,Task_Metrics_Input_Metrics_Bytes_Read_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend name=strcat(\"TaskDeserializationTime \",Stage_Info_Stage_Name_s)\n| summarize percentile(Task_Metrics_Executor_Deserialize_Time_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "C"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend name=strcat(\"TaskResultSerializationTime \",Stage_Info_Stage_Name_s)\n| summarize percentile(Task_Metrics_Result_Serialization_Time_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "D"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend ShuffleWriteTime=Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d/1000000\n| extend name=strcat(\"TaskShuffleWriteTime \",Stage_Info_Stage_Name_s)\n| summarize percentile(ShuffleWriteTime,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "E"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend name=strcat(\"TaskShuffleReadTime \",Stage_Info_Stage_Name_s)\n| summarize percentile(Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "F"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend schedulerdelay = Task_Info_Launch_Time_d - Stage_Info_Submission_Time_d\n| extend name=strcat(\"ShuffleBytesWritten \",Stage_Info_Stage_Name_s)\n| summarize percentile(Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "G"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend name=strcat(\"ShuffleBytesRead \",Stage_Info_Stage_Name_s)\n| summarize percentile(Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "H"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let result=SparkListenerEvent_CL\n| where   $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Stage_ID_d,Stage_Info_Stage_Name_s,Stage_Info_Submission_Time_d,Event_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerTaskEnd\"\n    | where Task_End_Reason_Reason_s contains \"Success\"\n    | project Task_Info_Launch_Time_d,Stage_ID_d,Task_Info_Task_ID_d,Event_s,\n              Task_Metrics_Executor_Deserialize_Time_d,Task_Metrics_Shuffle_Read_Metrics_Fetch_Wait_Time_d,\n              Task_Metrics_Executor_Run_Time_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Write_Time_d,\n              Task_Metrics_Result_Serialization_Time_d,Task_Info_Getting_Result_Time_d,\n              Task_Metrics_Shuffle_Read_Metrics_Remote_Bytes_Read_d,Task_Metrics_Shuffle_Write_Metrics_Shuffle_Bytes_Written_d,\n              Task_Metrics_JVM_GC_Time_d,Task_Metrics_Input_Metrics_Bytes_Read_d,TimeGenerated\n) on $left.Stage_Info_Stage_ID_d == $right.Stage_ID_d;\nresult\n| extend name=strcat(\"InputBytesRead \",Stage_Info_Stage_Name_s)\n| summarize percentile(Task_Metrics_Input_Metrics_Bytes_Read_d,90) by bin(TimeGenerated,1m),name\n| order by TimeGenerated asc nulls last;\n\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "I"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Tasks Metrics  Per Stage ( 90% Percentile)",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 2,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "bytes",
          "label": "Data Size",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 8,
        "w": 11,
        "x": 0,
        "y": 27
      },
      "id": 37,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Event_s contains \"SparkListenerStageCompleted\"\n| project Stage_Info_Number_of_Tasks_d,Stage_Info_Stage_Name_s,TimeGenerated \n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Tasks Per Stage",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": "Tasks Per Stage / Minute",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 11,
        "y": 27
      },
      "id": 40,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1]) \n| where name_s contains \"threadpool.activeTasks\" \n| summarize percentile(value_d,90)  by bin(TimeGenerated, 1m),executor\n| order by TimeGenerated asc  nulls last ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "# Tasks per Executor",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": "Tasks Per Executor Per Minute",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 8,
        "w": 11,
        "x": 0,
        "y": 35
      },
      "id": 42,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Event_s contains \"taskend\" \n| extend taskDuration=Task_Info_Finish_Time_d-Task_Info_Launch_Time_d \n| summarize sum(taskDuration) by bin(TimeGenerated,  1m), Task_Info_Host_s\n| order by TimeGenerated asc nulls last ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Sum Task Execution Per Host",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "dtdurationms",
          "label": "Sum Task Execution / Minute",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 11,
        "y": 35
      },
      "id": 19,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where name_s !contains \"driver\" \n| where name_s contains \"executor\"\n| extend sname=split(name_s, \".\")\n| extend executor=strcat(sname[0],sname[1]) \n| summarize NumExecutors=dcount(executor)  by bin(TimeGenerated,  1m)\n| order by TimeGenerated asc  nulls last ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Running Executors",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "short",
          "label": "# Running Executors",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 9,
        "w": 7,
        "x": 0,
        "y": 43
      },
      "id": 13,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results = SparkMetric_CL \n| where $__timeFilter(TimeGenerated)\n| where name_s contains \"executor.deserializetime\" \n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| project TimeGenerated , desetime=count_d , executor ,name_s\n| join kind= inner (\nSparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where name_s contains \"executor.RunTime\"\n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| project TimeGenerated , runTime=count_d , executor ,name_s\n) on executor, TimeGenerated;\nresults\n| extend deseUsage=(desetime/runTime)*100\n| summarize deSerializationCpuTime=percentiles(deseUsage,90) by bin(TimeGenerated, 1m), executor\n| order by TimeGenerated asc nulls last ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "% Deserialize Time ( Ratio With Executor Runtime )",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "percent",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 9,
        "w": 7,
        "x": 7,
        "y": 43
      },
      "id": 14,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results = SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where name_s contains \"executor.resultserializationtime\" \n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| project TimeGenerated , setime=count_d , executor ,name_s\n| join kind= inner (\nSparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where name_s contains \"executor.RunTime\"\n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| project TimeGenerated , runTime=count_d , executor ,name_s\n) on executor, TimeGenerated;\nresults\n| extend serUsage=(setime/runTime)*100\n| summarize SerializationCpuTime=percentile(serUsage,90) by bin(TimeGenerated, 1m), executor\n| order by TimeGenerated asc nulls last\n| render timechart ",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "% Serialize Time ( Ratio With Executor Runtime )",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "percent",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 9,
        "w": 9,
        "x": 14,
        "y": 43
      },
      "id": 11,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results = SparkMetric_CL \n| where $__timeFilter(TimeGenerated) \n| where name_s contains \"executor.cpuTime\" \n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1])\n| project TimeGenerated , cpuTime=count_d/1000000  ,  executor ,name_s\n| join kind= inner (\n    SparkMetric_CL\n| where $__timeFilter(TimeGenerated) \n| where name_s contains \"executor.RunTime\"\n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| project TimeGenerated , runTime=count_d  ,  executor ,name_s\n) on executor, TimeGenerated;\nresults\n| extend cpuUsage=(cpuTime/runTime)*100\n| summarize ExecutorCpuTime = percentile(cpuUsage,90) by bin(TimeGenerated, 1m), executor\n| order by TimeGenerated asc nulls last   \n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "% Executor CPU ( Ratio With Executor Runtime )",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "percent",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 8,
        "w": 7,
        "x": 0,
        "y": 52
      },
      "id": 24,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where  name_s  contains \"shuffle-client.usedDirectMemory\"\n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1])\n| summarize percentile(value_d,90)  by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc  nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Shuffle Memory",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "decbytes",
          "label": "ShuffleClientDirectMemory",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 8,
        "w": 7,
        "x": 7,
        "y": 52
      },
      "id": 9,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results = SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where name_s contains \"executor.jvmGCTime\" \n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1])\n| project TimeGenerated , jvmgcTime=count_d , executor ,name_s\n| join kind= inner (\nSparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where name_s contains \"executor.RunTime\"\n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1]) \n| project TimeGenerated , runTime=count_d , executor ,name_s\n) on executor, TimeGenerated;\nresults\n| extend JvmcpuUsage=(jvmgcTime/runTime)*100\n| summarize JvmCpuTime = percentile(JvmcpuUsage,90) by bin(TimeGenerated, 1m), executor\n| order by TimeGenerated asc nulls last\n| render timechart  \n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "B"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "% Jvm CPU ( Ratio With Executor Runtime )",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "percent",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "percent",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 8,
        "w": 9,
        "x": 14,
        "y": 52
      },
      "id": 27,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where  name_s  contains \"executor.memoryBytesSpilled\"\n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| summarize MaxShuffleWrites=max(count_d)  by bin(TimeGenerated,  1m), executor \n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkMetric_CL\n    | where $__timeFilter(TimeGenerated)\n    | where name_s contains \"executor.memoryBytesSpilled\"\n    | extend sname=split(name_s, \".\") \n    | extend executor=strcat(\"executorid:\",sname[1])\n| summarize MinShuffleWrites=min(count_d)  by bin(TimeGenerated,  1m), executor\n) on executor, TimeGenerated;\nresults\n| extend ShuffleBytesWritten=MaxShuffleWrites-MinShuffleWrites \n| summarize any(ShuffleBytesWritten)   by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc nulls last\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Shuffle IO",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "bytes",
          "label": "ShuffleMemorySpilled",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 7,
        "w": 7,
        "x": 0,
        "y": 60
      },
      "id": 22,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkMetric_CL\n| where $__timeFilter()\n| where  name_s  contains \"executor.shuffleBytesWritten\"\n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| summarize MaxShuffleWrites=max(count_d)  by bin(TimeGenerated,  1m), executor \n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkMetric_CL\n    | where $__timeFilter()\n    | where name_s contains \"executor.shuffleBytesWritten\"\n    | extend sname=split(name_s, \".\") \n    | extend executor=strcat(\"executorid:\",sname[1])\n| summarize MinShuffleWrites=min(count_d)  by bin(TimeGenerated,  1m), executor\n) on executor, TimeGenerated;\nresults\n| extend ShuffleBytesWritten=MaxShuffleWrites-MinShuffleWrites \n| summarize max(ShuffleBytesWritten)   by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc nulls last\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Shuffle IO",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "bytes",
          "label": "Shuffle Bytes Written",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 7,
        "w": 7,
        "x": 7,
        "y": 60
      },
      "id": 26,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkMetric_CL\n| where $__timeFilter()\n| where  name_s  contains \"executor.shuffleTotalBytesRead\"\n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| summarize MaxShuffleWrites=max(count_d)  by bin(TimeGenerated,  1m), executor \n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkMetric_CL\n    | where $__timeFilter()\n    | where name_s contains \"executor.shuffleTotalBytesRead\"\n    | extend sname=split(name_s, \".\") \n    | extend executor=strcat(\"executorid:\",sname[1])\n| summarize MinShuffleWrites=min(count_d)  by bin(TimeGenerated,  1m), executor\n) on executor, TimeGenerated;\nresults\n| extend ShuffleBytesWritten=MaxShuffleWrites-MinShuffleWrites \n| summarize max(ShuffleBytesWritten)   by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc nulls last\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Shuffle IO",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "decbytes",
          "label": "Shuffle Bytes Read",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 7,
        "w": 9,
        "x": 14,
        "y": 60
      },
      "id": 38,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkMetric_CL\n| where $__timeFilter()\n| where  name_s  contains \"executor.diskBytesSpilled\"\n| extend sname=split(name_s, \".\") \n| extend executor=strcat(\"executorid:\",sname[1])\n| summarize MaxShuffleWrites=max(count_d)  by bin(TimeGenerated,  1m), executor \n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkMetric_CL\n    | where $__timeFilter()\n    | where name_s contains \"executor.diskBytesSpilled\"\n    | extend sname=split(name_s, \".\") \n    | extend executor=strcat(\"executorid:\",sname[1])\n| summarize MinShuffleWrites=min(count_d)  by bin(TimeGenerated,  1m), executor\n) on executor, TimeGenerated;\nresults\n| extend ShuffleBytesWritten=MaxShuffleWrites-MinShuffleWrites \n| summarize any(ShuffleBytesWritten)   by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc nulls last\n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Shuffle IO",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "bytes",
          "label": "ShuffleDiskBytesSpilled",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 7,
        "w": 7,
        "x": 0,
        "y": 67
      },
      "id": 20,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1])\n| where  name_s  contains \"executor.filesystem.file.write_bytes\" \n| summarize FileSystemWriteBytes=any(value_d)  by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc  nulls last \n| render timechart",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "File System IO",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "bytes",
          "label": "File System Bytes Write",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 7,
        "w": 7,
        "x": 7,
        "y": 67
      },
      "id": 25,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| where  name_s  contains \"shuffle-client.usedHeapMemory\"\n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1])\n| summarize percentile(value_d,90)  by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc  nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Shuffle Memory",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "bytes",
          "label": "ShuffleHeapMemory",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 0,
      "gridPos": {
        "h": 7,
        "w": 9,
        "x": 14,
        "y": 67
      },
      "id": 23,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "TriggerExecution",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkMetric_CL\n| where $__timeFilter(TimeGenerated)\n| extend sname=split(name_s, \".\")\n| extend executor=strcat(\"executorid:\",sname[1])\n| where  name_s  contains \"executor.filesystem.file.read_bytes\" \n| summarize FileSystemWriteBytes=any(value_d)  by bin(TimeGenerated,  1m), executor\n| order by TimeGenerated asc  nulls last \n| render timechart",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "aggOptions": [
              "None",
              "Average",
              "Minimum",
              "Maximum",
              "Total",
              "Count"
            ],
            "aggregation": "Total",
            "alias": "Incoming Messages",
            "dimension": "",
            "dimensionFilter": "*",
            "dimensions": [],
            "metricDefinition": "Microsoft.EventHub/namespaces",
            "metricName": "INREQS",
            "resourceGroup": "hotpath7",
            "resourceName": "hotpath-ehub-hotpath7",
            "timeGrain": "PT1M",
            "timeGrains": [
              {
                "text": "auto",
                "value": "auto"
              },
              {
                "text": "1 minute",
                "value": "PT1M"
              },
              {
                "text": "5 minutes",
                "value": "PT5M"
              },
              {
                "text": "15 minutes",
                "value": "PT15M"
              },
              {
                "text": "30 minutes",
                "value": "PT30M"
              },
              {
                "text": "1 hour",
                "value": "PT1H"
              },
              {
                "text": "6 hours",
                "value": "PT6H"
              },
              {
                "text": "12 hours",
                "value": "PT12H"
              },
              {
                "text": "1 day",
                "value": "P1D"
              }
            ]
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "File System IO",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": null,
          "format": "bytes",
          "label": "File System Bytes Read",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "ms",
          "label": "Latency",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 74
      },
      "id": 17,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": false,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Level contains \"Error\"\n| summarize CountExceptions=count(Level) , max(timestamp_t)    \n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Streaming Errors",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "${DS_ALA}",
      "fill": 1,
      "gridPos": {
        "h": 7,
        "w": 10,
        "x": 12,
        "y": 74
      },
      "id": 47,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": false,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "let results=SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where  Event_s  contains \"SparkListenerJobStart\"\n| project Job_ID_d,Properties_callSite_short_s,TimeGenerated\n| order by TimeGenerated asc  nulls last \n| join kind= inner (\n    SparkListenerEvent_CL\n    | where $__timeFilter(TimeGenerated)\n    | where Event_s contains \"SparkListenerJobEnd\"\n    | where Job_Result_Result_s !contains \"JobSucceeded\"\n    | project Event_s,Job_ID_d,TimeGenerated\n) on Job_ID_d;\nresults\n| extend slice=strcat(\"JobErrors \",Properties_callSite_short_s)\n| summarize count(Event_s)   by bin(TimeGenerated,  1m),slice\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        },
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where  $__timeFilter(TimeGenerated)\n| where Event_s contains \"SparkListenerTaskEnd\" \n| where Task_End_Reason_Reason_s !contains \"Success\"\n| summarize TasksErrors=count(Event_s) by bin(TimeGenerated,1m)\n| order by TimeGenerated asc nulls last",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "B"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Cluster (Job/Task) Errors",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transparent": false,
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "columns": [],
      "datasource": "${DS_ALA}",
      "fontSize": "100%",
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 0,
        "y": 81
      },
      "id": 16,
      "links": [],
      "pageSize": null,
      "scroll": true,
      "showHeader": true,
      "sort": {
        "col": 0,
        "desc": true
      },
      "styles": [
        {
          "alias": "Time",
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "pattern": "Time",
          "type": "date"
        },
        {
          "alias": "",
          "colorMode": null,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "decimals": 2,
          "mappingType": 1,
          "pattern": "Time",
          "thresholds": [],
          "type": "date",
          "unit": "short"
        },
        {
          "alias": "",
          "colorMode": null,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "decimals": 2,
          "mappingType": 1,
          "pattern": "Metric",
          "thresholds": [],
          "type": "string",
          "unit": "short"
        },
        {
          "alias": "",
          "colorMode": null,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "decimals": 2,
          "pattern": "/.*/",
          "thresholds": [],
          "type": "number",
          "unit": "short"
        }
      ],
      "targets": [
        {
          "appInsights": {
            "groupBy": "none",
            "metricName": "select",
            "rawQuery": false,
            "rawQueryString": "",
            "spliton": "",
            "timeGrainType": "auto",
            "xaxis": "timestamp",
            "yaxis": ""
          },
          "azureLogAnalytics": {
            "query": "SparkListenerEvent_CL\n| where $__timeFilter(TimeGenerated)\n| where Level contains \"Error\"\n| project TimeGenerated , Message  \n",
            "resultFormat": "time_series",
            "workspace": "6cdabfff-ca67-46d4-a18c-8e5b2d81b6bf"
          },
          "azureMonitor": {
            "dimensionFilter": "*",
            "metricDefinition": "select",
            "metricName": "select",
            "resourceGroup": "select",
            "resourceName": "select",
            "timeGrain": "auto"
          },
          "queryType": "Azure Log Analytics",
          "refId": "A"
        }
      ],
      "title": "Exceptions Traces",
      "transform": "timeseries_to_rows",
      "transparent": false,
      "type": "table"
    }
  ],
  "refresh": false,
  "schemaVersion": 16,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-5m",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "",
  "title": "Spark Metrics",
  "uid": "SP3yfcBmz",
  "version": 354
}